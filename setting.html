<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Informasi RT-16</title>
		
	    <!-- Favicon -->
    <link rel="icon" type="image/png" href="img/Logo_erte.png">
	
    <!-- Bootstrap CSS untuk tampilan seperti jumbotron -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Link ke file CSS eksternal -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- header -->
    <!-- Logo di kiri atas -->
    <div class="logo-container">
        <img src="img/Logo_erte.png" alt="Logo RT" class="logo">
    </div>
    
    <div class="jumbotron text-center">
        <h1 class="display-4">SISTEM INFORMASI</h1>
        <h2>RT-16 ( RW 16 )</h2>
        <h3>PERUM BCL ~ DESA WALUYA</h3>
        <h4>KECAMATAN CIKARANG UTARA ~ KABUPATEN BEKASI</h4>
    <!-- <hr class="my-4"> -->
    </div>

    <!-- Navbar dengan tombol -->
    <div class="navbar text-center">
        <a class="active" href="index.html"><span>Home</span></a>
        <a class="btn gradient-button m-2" href="about.html"><span>About My</span></a>
		<a class="btn gradient-button m-2" href="struktur.html"><span>Stuktur Organisasi</span></a>
        <a class="btn gradient-button m-2" href="programkerja.html"><span>Program Kerja</span></a>
        <a class="btn gradient-button m-2" href="laporanprogramkerja.html"><span>Laporan Program Kerja</span></a>
        <a class="btn gradient-button m-2" href="laporankas.html"><span>Laporan KAS RT</span></a>
		<a class="btn gradient-button m-2" href="laporankasrukem.html"><span>Laporan KAS RUKEM</span></a>
        <a class="btn gradient-button m-2" href="datawarga.html"><span>Data Warga & Area</span></a>
        <a class="btn gradient-button m-2" href="contact.html"><span>CONTACT</span></a>
        
        <!-- Dropdown Menu -->
        <!-- <div class="dropdown d-inline-block m-2">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                More Options
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="#">Option 1</a>
                <a class="dropdown-item" href="#">Option 2</a>
                <a class="dropdown-item" href="#">Option 3</a>
            </div>
        </div>
    </div> -->
	<!-- Dropdown Menu -->
     <div class="dropdown d-inline-block m-2">
    <button class="neon-dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        More Options
		    <span></span>
            <span></span>
            <span></span>
            <span></span>
    </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="btn gradient-button m-2" href="#"><span>Data Aset RT</span></a>
        <a class="btn gradient-button m-2" href="#"><span>Template Proposal</span></a>
        <a class="btn gradient-button m-2" href="setting.html"><span>Setting Admin</span></a>
        </div>
       </div>
     </div>

		<div class="jumbotron text-center">

		<!-- label -->

	<div class="container">
			<h2>SETTING ADMIN</h2> </section>
		<hr>
		<!-- Form Login -->
			<div class="container text-center mt-4">
				<h2>Login</h2>
				<form id="login-form">
					<div class="form-group">
						<label for="username">Username</label>
						<input type="text" id="username" class="form-control" placeholder="Masukkan Username">
					</div>
					<div class="form-group">
						<label for="password">Password (Personal Access Token)</label>
						<input type="password" id="password" class="form-control" placeholder="Masukkan Token GitHub">
					</div>
					<button type="submit" class="btn btn-primary">Login</button>
				</form>
				<div id="login-message" class="mt-3"></div>
			</div>


         </section>
		</div>
	</section>
	<hr>


	<!-- footer -->
    <footer class="footer">
		<div class="footer-content">
            <small>Copyright &copy; 2024 - Gunawan. All Rights Reserved.</small>
        </div>
    </footer>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script>
    document.getElementById("login-form").addEventListener("submit", async function (e) {
        e.preventDefault(); // Mencegah reload halaman

        const username = document.getElementById("username").value;
        const token = document.getElementById("password").value;
        const loginMessage = document.getElementById("login-message");

        try {
            // Verifikasi token dengan memeriksa user GitHub
            const response = await fetch("https://api.github.com/user", {
                headers: { Authorization: `token ${token}` }
            });

            if (response.ok) {
                const userData = await response.json();
                loginMessage.innerHTML = `<span class="text-success">Login berhasil! Selamat datang, ${userData.login}.</span>`;
                console.log("User data:", userData);

                // Simpan status login (opsional, hanya untuk contoh)
                localStorage.setItem("isLoggedIn", "true");
                localStorage.setItem("username", userData.login);

                // Arahkan ke halaman lain jika login berhasil
                setTimeout(() => {
                    window.location.href = "dashboard.html";
                }, 2000);
            } else {
                throw new Error("Login gagal! Periksa kembali token atau username.");
            }
        } catch (error) {
            loginMessage.innerHTML = `<span class="text-danger">${error.message}</span>`;
        }
    });
</script>


	
</body>
</html>
